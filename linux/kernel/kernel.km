{
    "root": {
        "data": {
            "id": "c41fr6iulhk0",
            "created": 1594231086505,
            "text": "kernel",
            "hyperlink": "https://www.kernel.org/",
            "hyperlinkTitle": ""
        },
        "children": [
            {
                "data": {
                    "id": "c43fhkx3row0",
                    "created": 1594433454114,
                    "text": "souce code",
                    "expandState": "expand"
                },
                "children": [
                    {
                        "data": {
                            "id": "c41frvjpgcw0",
                            "created": 1594231140977,
                            "text": "repositories",
                            "hyperlink": "https://git.kernel.org/",
                            "hyperlinkTitle": ""
                        },
                        "children": []
                    },
                    {
                        "data": {
                            "id": "c41g3xm34vs0",
                            "created": 1594232085845,
                            "text": "github",
                            "hyperlink": "https://github.com/torvalds/linux",
                            "hyperlinkTitle": ""
                        },
                        "children": []
                    }
                ]
            },
            {
                "data": {
                    "id": "c43vmuromnk0",
                    "created": 1594479005133,
                    "text": "LWN.NET"
                },
                "children": [
                    {
                        "data": {
                            "id": "c43vn50fz0w0",
                            "created": 1594479027431,
                            "text": "Kernel index",
                            "hyperlink": "https://lwn.net/Kernel/Index/",
                            "hyperlinkTitle": ""
                        },
                        "children": [
                            {
                                "data": {
                                    "id": "c43vnq8kzm80",
                                    "created": 1594479073635,
                                    "text": "System calls",
                                    "expandState": "expand"
                                },
                                "children": [
                                    {
                                        "data": {
                                            "id": "c43fi22uwiw0",
                                            "created": 1594433491467,
                                            "text": "Anatomy of a system call, part 1",
                                            "hyperlink": "https://lwn.net/Articles/604287/",
                                            "hyperlinkTitle": ""
                                        },
                                        "children": [
                                            {
                                                "data": {
                                                    "id": "c43fjwqlwjs0",
                                                    "created": 1594433636571,
                                                    "text": "System calls are the primary mechanism by which user-space programs interact with the Linux kernel"
                                                },
                                                "children": []
                                            },
                                            {
                                                "data": {
                                                    "id": "c43flkdgrdc0",
                                                    "created": 1594433766383,
                                                    "text": "System calls differ from regular function calls"
                                                },
                                                "children": [
                                                    {
                                                        "data": {
                                                            "id": "c43fmfkdtzc0",
                                                            "created": 1594433834281,
                                                            "text": "the code being called is in the kernel"
                                                        },
                                                        "children": []
                                                    },
                                                    {
                                                        "data": {
                                                            "id": "c43fmxbo2nk0",
                                                            "created": 1594433872937,
                                                            "text": "Special instructions are needed to make the processor perform a transition to ring 0 (privileged mode)"
                                                        },
                                                        "children": []
                                                    },
                                                    {
                                                        "data": {
                                                            "id": "c43fnekktds0",
                                                            "created": 1594433910481,
                                                            "text": "the kernel code being invoked is identified by a syscall number, rather than by a function address"
                                                        },
                                                        "children": []
                                                    }
                                                ]
                                            },
                                            {
                                                "data": {
                                                    "id": "c43unzl2s2g0",
                                                    "created": 1594476272873,
                                                    "text": "Defining a syscall with SYSCALL_DEFINEn()"
                                                },
                                                "children": [
                                                    {
                                                        "data": {
                                                            "id": "c43urek6ltc0",
                                                            "created": 1594476540562,
                                                            "text": "SYSCALL_DEFINEn() macros are the standard way for kernel code to define a system call",
                                                            "expandState": "expand"
                                                        },
                                                        "children": [
                                                            {
                                                                "data": {
                                                                    "id": "c43urp8ztyo0",
                                                                    "created": 1594476563830,
                                                                    "text": "the n suffix indicates the argument countthe n suffix indicates the argument count"
                                                                },
                                                                "children": []
                                                            }
                                                        ]
                                                    },
                                                    {
                                                        "data": {
                                                            "id": "c43uye9tpeo0",
                                                            "created": 1594477088485,
                                                            "text": "SYSCALL_METADATA()"
                                                        },
                                                        "children": [
                                                            {
                                                                "data": {
                                                                    "id": "c43uyubcjxk0",
                                                                    "created": 1594477123405,
                                                                    "text": "builds a collection of metadata about the system call for tracing purposesbuilds"
                                                                },
                                                                "children": []
                                                            }
                                                        ]
                                                    },
                                                    {
                                                        "data": {
                                                            "id": "c43uzbfjb1c0",
                                                            "created": 1594477160664,
                                                            "text": "__SYSCALL_DEFINEx()"
                                                        },
                                                        "children": [
                                                            {
                                                                "data": {
                                                                    "id": "c43uzh3wqg80",
                                                                    "created": 1594477173023,
                                                                    "text": "holds the system call implementation"
                                                                },
                                                                "children": []
                                                            }
                                                        ]
                                                    }
                                                ]
                                            },
                                            {
                                                "data": {
                                                    "id": "c43w5banvgw0",
                                                    "created": 1594480451664,
                                                    "text": "Syscall table entries"
                                                },
                                                "children": []
                                            }
                                        ]
                                    },
                                    {
                                        "data": {
                                            "id": "c43ueq3f3i00",
                                            "created": 1594475546936,
                                            "text": "Anatomy of a system call, part 2",
                                            "hyperlink": "https://lwn.net/Articles/604515/",
                                            "hyperlinkTitle": ""
                                        },
                                        "children": []
                                    }
                                ]
                            }
                        ]
                    }
                ]
            },
            {
                "data": {
                    "id": "c43vesxa51k0",
                    "created": 1594478374205,
                    "text": "KernelNewbies",
                    "hyperlink": "https://kernelnewbies.org/",
                    "hyperlinkTitle": ""
                },
                "children": [
                    {
                        "data": {
                            "id": "c43vf33wwig0",
                            "created": 1594478396374,
                            "text": "FAQ",
                            "hyperlink": "https://kernelnewbies.org/FAQ",
                            "hyperlinkTitle": ""
                        },
                        "children": []
                    }
                ]
            },
            {
                "data": {
                    "id": "c4l9p0fpjvk0",
                    "created": 1596245189000,
                    "text": "code"
                },
                "children": [
                    {
                        "data": {
                            "id": "c4l9p76ymjk0",
                            "created": 1596245203709,
                            "text": "fs"
                        },
                        "children": [
                            {
                                "data": {
                                    "id": "c4l9p7tcq5c0",
                                    "created": 1596245205063,
                                    "text": "eventpoll.c"
                                },
                                "children": [
                                    {
                                        "data": {
                                            "id": "c4lbtwvoghs0",
                                            "created": 1596251215299,
                                            "text": "struct"
                                        },
                                        "children": [
                                            {
                                                "data": {
                                                    "id": "c4l9pqjb41k0",
                                                    "created": 1596245245814,
                                                    "text": "struct epitem"
                                                },
                                                "children": [
                                                    {
                                                        "data": {
                                                            "id": "c4l9yg80tqw0",
                                                            "created": 1596245928641,
                                                            "text": "\"Each file descriptor added to the eventpoll interface will have an entry of this type linked to the \"rbr\" RB tree\""
                                                        },
                                                        "children": []
                                                    },
                                                    {
                                                        "data": {
                                                            "id": "c4l9sqfrtrs0",
                                                            "created": 1596245480693,
                                                            "text": "struct rb_node rbn"
                                                        },
                                                        "children": [
                                                            {
                                                                "data": {
                                                                    "id": "c4l9syqh8jc0",
                                                                    "created": 1596245498754,
                                                                    "text": "RB tree node links this structure to the eventpoll RB tree"
                                                                },
                                                                "children": []
                                                            }
                                                        ]
                                                    },
                                                    {
                                                        "data": {
                                                            "id": "c4l9tmxhku80",
                                                            "created": 1596245551421,
                                                            "text": "struct list_head rdllink"
                                                        },
                                                        "children": [
                                                            {
                                                                "data": {
                                                                    "id": "c4l9tr55y940",
                                                                    "created": 1596245560592,
                                                                    "text": "List header used to link this structure to the eventpoll ready list"
                                                                },
                                                                "children": []
                                                            },
                                                            {
                                                                "data": {
                                                                    "id": "c4livoxbk5s0",
                                                                    "created": 1596271102482,
                                                                    "text": "note"
                                                                },
                                                                "children": [
                                                                    {
                                                                        "data": {
                                                                            "id": "c4livq43lq00",
                                                                            "created": 1596271105069,
                                                                            "text": "node pointed by eventpoll::rdllist"
                                                                        },
                                                                        "children": []
                                                                    }
                                                                ]
                                                            }
                                                        ]
                                                    },
                                                    {
                                                        "data": {
                                                            "id": "c4l9uc5azrk0",
                                                            "created": 1596245606313,
                                                            "text": "struct epitem *next"
                                                        },
                                                        "children": [
                                                            {
                                                                "data": {
                                                                    "id": "c4l9uxo4z6o0",
                                                                    "created": 1596245653164,
                                                                    "text": "Works together \"struct eventpoll\"->ovflist in keeping the single linked chain of items"
                                                                },
                                                                "children": []
                                                            }
                                                        ]
                                                    },
                                                    {
                                                        "data": {
                                                            "id": "c4l9vdq0zz40",
                                                            "created": 1596245688107,
                                                            "text": "struct epoll_filefd ffd"
                                                        },
                                                        "children": [
                                                            {
                                                                "data": {
                                                                    "id": "c4l9vi3x54g0",
                                                                    "created": 1596245697654,
                                                                    "text": "The file descriptor information this item refers to"
                                                                },
                                                                "children": []
                                                            }
                                                        ]
                                                    },
                                                    {
                                                        "data": {
                                                            "id": "c4l9voq83w80",
                                                            "created": 1596245712064,
                                                            "text": "int nwait"
                                                        },
                                                        "children": [
                                                            {
                                                                "data": {
                                                                    "id": "c4l9vt3lw4g0",
                                                                    "created": 1596245721580,
                                                                    "text": "Number of active wait queue attached to poll operations"
                                                                },
                                                                "children": []
                                                            }
                                                        ]
                                                    },
                                                    {
                                                        "data": {
                                                            "id": "c4l9w4bafcg0",
                                                            "created": 1596245745989,
                                                            "text": "struct list_head pwqlist"
                                                        },
                                                        "children": [
                                                            {
                                                                "data": {
                                                                    "id": "c4l9w876ccg0",
                                                                    "created": 1596245754448,
                                                                    "text": "List containing poll wait queues"
                                                                },
                                                                "children": []
                                                            },
                                                            {
                                                                "data": {
                                                                    "id": "c4lc2ym7fbk0",
                                                                    "created": 1596251924358,
                                                                    "text": "note"
                                                                },
                                                                "children": [
                                                                    {
                                                                        "data": {
                                                                            "id": "c4lc2zpe5vk0",
                                                                            "created": 1596251926727,
                                                                            "text": "head of eppoll_entry list"
                                                                        },
                                                                        "children": []
                                                                    },
                                                                    {
                                                                        "data": {
                                                                            "id": "c4lcb5g9gs80",
                                                                            "created": 1596252566149,
                                                                            "text": "point to eppoll_entry::llink"
                                                                        },
                                                                        "children": []
                                                                    }
                                                                ]
                                                            }
                                                        ]
                                                    },
                                                    {
                                                        "data": {
                                                            "id": "c4l9wtmk8y80",
                                                            "created": 1596245801090,
                                                            "text": "struct eventpoll *ep"
                                                        },
                                                        "children": [
                                                            {
                                                                "data": {
                                                                    "id": "c4l9wxfznkg0",
                                                                    "created": 1596245809400,
                                                                    "text": "The \"container\" of this item"
                                                                },
                                                                "children": []
                                                            }
                                                        ]
                                                    },
                                                    {
                                                        "data": {
                                                            "id": "c4l9x5ubkl40",
                                                            "created": 1596245827681,
                                                            "text": "struct list_head fllink"
                                                        },
                                                        "children": [
                                                            {
                                                                "data": {
                                                                    "id": "c4l9xae6gc00",
                                                                    "created": 1596245837589,
                                                                    "text": "List header used to link this item to the \"struct file\" items list"
                                                                },
                                                                "children": []
                                                            },
                                                            {
                                                                "data": {
                                                                    "id": "c4liroq8lr40",
                                                                    "created": 1596270788597,
                                                                    "text": "note"
                                                                },
                                                                "children": [
                                                                    {
                                                                        "data": {
                                                                            "id": "c4lirpn64go0",
                                                                            "created": 1596270790588,
                                                                            "text": "node pointed by file::f_ep_links"
                                                                        },
                                                                        "children": []
                                                                    }
                                                                ]
                                                            }
                                                        ]
                                                    },
                                                    {
                                                        "data": {
                                                            "id": "c4l9xh12wkw0",
                                                            "created": 1596245852034,
                                                            "text": "struct wakeup_source __rcu *ws"
                                                        },
                                                        "children": [
                                                            {
                                                                "data": {
                                                                    "id": "c4l9xkji0680",
                                                                    "created": 1596245859678,
                                                                    "text": "wakeup_source used when EPOLLWAKEUP is set"
                                                                },
                                                                "children": []
                                                            }
                                                        ]
                                                    },
                                                    {
                                                        "data": {
                                                            "id": "c4l9xo3pdzs0",
                                                            "created": 1596245867430,
                                                            "text": "struct epoll_event event"
                                                        },
                                                        "children": [
                                                            {
                                                                "data": {
                                                                    "id": "c4l9xsmlglk0",
                                                                    "created": 1596245877280,
                                                                    "text": "The structure that describe the interested events and the source fd"
                                                                },
                                                                "children": []
                                                            }
                                                        ]
                                                    }
                                                ]
                                            },
                                            {
                                                "data": {
                                                    "id": "c4l9z56fsio0",
                                                    "created": 1596245982965,
                                                    "text": "struct eventpoll"
                                                },
                                                "children": [
                                                    {
                                                        "data": {
                                                            "id": "c4l9zfvoudk0",
                                                            "created": 1596246006260,
                                                            "text": "struct mutex mtx"
                                                        },
                                                        "children": [
                                                            {
                                                                "data": {
                                                                    "id": "c4l9zmawbk80",
                                                                    "created": 1596246020240,
                                                                    "text": "This mutex is used to ensure that files are not removed while epoll is using them. This is held during the event collection loop, the file cleanup path, the epoll file exit code and the ctl operations"
                                                                },
                                                                "children": []
                                                            }
                                                        ]
                                                    },
                                                    {
                                                        "data": {
                                                            "id": "c4la0ftytls0",
                                                            "created": 1596246084520,
                                                            "text": "wait_queue_head_t wq"
                                                        },
                                                        "children": [
                                                            {
                                                                "data": {
                                                                    "id": "c4la0jjvqog0",
                                                                    "created": 1596246092617,
                                                                    "text": "Wait queue used by sys_epoll_wait()"
                                                                },
                                                                "children": []
                                                            }
                                                        ]
                                                    },
                                                    {
                                                        "data": {
                                                            "id": "c4la0yx83m00",
                                                            "created": 1596246126076,
                                                            "text": "wait_queue_head_t poll_wait"
                                                        },
                                                        "children": [
                                                            {
                                                                "data": {
                                                                    "id": "c4la14qp3sw0",
                                                                    "created": 1596246138742,
                                                                    "text": "Wait queue used by file->poll()"
                                                                },
                                                                "children": []
                                                            }
                                                        ]
                                                    },
                                                    {
                                                        "data": {
                                                            "id": "c4la1d9o9yw0",
                                                            "created": 1596246157303,
                                                            "text": "struct list_head rdllist"
                                                        },
                                                        "children": [
                                                            {
                                                                "data": {
                                                                    "id": "c4la1n5rljs0",
                                                                    "created": 1596246178835,
                                                                    "text": "List of ready file descriptors"
                                                                },
                                                                "children": []
                                                            },
                                                            {
                                                                "data": {
                                                                    "id": "c4lix3mp4880",
                                                                    "created": 1596271212856,
                                                                    "text": "note"
                                                                },
                                                                "children": [
                                                                    {
                                                                        "data": {
                                                                            "id": "c4lix7cx3bk0",
                                                                            "created": 1596271220971,
                                                                            "text": "head of epitem list"
                                                                        },
                                                                        "children": []
                                                                    },
                                                                    {
                                                                        "data": {
                                                                            "id": "c4lixbqcrfs0",
                                                                            "created": 1596271230491,
                                                                            "text": "point to epitem::rdlink"
                                                                        },
                                                                        "children": []
                                                                    }
                                                                ]
                                                            }
                                                        ]
                                                    },
                                                    {
                                                        "data": {
                                                            "id": "c4la1o9bo3k0",
                                                            "created": 1596246181227,
                                                            "text": "struct rb_root_cached rbr"
                                                        },
                                                        "children": [
                                                            {
                                                                "data": {
                                                                    "id": "c4la1xclsso0",
                                                                    "created": 1596246201016,
                                                                    "text": "RB tree root used to store monitored fd structs"
                                                                },
                                                                "children": []
                                                            }
                                                        ]
                                                    },
                                                    {
                                                        "data": {
                                                            "id": "c4la2f3iig00",
                                                            "created": 1596246239649,
                                                            "text": "struct epitem *ovflist"
                                                        },
                                                        "children": [
                                                            {
                                                                "data": {
                                                                    "id": "c4la2p92xkw0",
                                                                    "created": 1596246261753,
                                                                    "text": "This is a single linked list that chains all the \"struct epitem\" that happened while transferring ready events to userspace w/out holding ->wq.lock"
                                                                },
                                                                "children": []
                                                            }
                                                        ]
                                                    },
                                                    {
                                                        "data": {
                                                            "id": "c4la3kawk0w0",
                                                            "created": 1596246329344,
                                                            "text": "struct wakeup_source *ws"
                                                        },
                                                        "children": [
                                                            {
                                                                "data": {
                                                                    "id": "c4la3ns49680",
                                                                    "created": 1596246336915,
                                                                    "text": "wakeup_source used when ep_scan_ready_list is running"
                                                                },
                                                                "children": []
                                                            }
                                                        ]
                                                    },
                                                    {
                                                        "data": {
                                                            "id": "c4la3szeo740",
                                                            "created": 1596246348239,
                                                            "text": "struct user_struct *user"
                                                        },
                                                        "children": [
                                                            {
                                                                "data": {
                                                                    "id": "c4la4178emw0",
                                                                    "created": 1596246366127,
                                                                    "text": "The user that created the eventpoll descriptor"
                                                                },
                                                                "children": []
                                                            }
                                                        ]
                                                    },
                                                    {
                                                        "data": {
                                                            "id": "c4la3x2j1i80",
                                                            "created": 1596246357135,
                                                            "text": "struct file *file"
                                                        },
                                                        "children": []
                                                    },
                                                    {
                                                        "data": {
                                                            "id": "c4la47gbh7k0",
                                                            "created": 1596246379737,
                                                            "text": "int visited"
                                                        },
                                                        "children": [
                                                            {
                                                                "data": {
                                                                    "id": "c4la4bd0xh40",
                                                                    "created": 1596246388245,
                                                                    "text": "used to optimize loop detection check"
                                                                },
                                                                "children": []
                                                            }
                                                        ]
                                                    },
                                                    {
                                                        "data": {
                                                            "id": "c4la4hzl8u00",
                                                            "created": 1596246402670,
                                                            "text": "struct list_head visited_list_link"
                                                        },
                                                        "children": []
                                                    }
                                                ]
                                            },
                                            {
                                                "data": {
                                                    "id": "c4la4ury45s0",
                                                    "created": 1596246430506,
                                                    "text": "struct eppoll_entry"
                                                },
                                                "children": [
                                                    {
                                                        "data": {
                                                            "id": "c4la5syrp140",
                                                            "created": 1596246504929,
                                                            "text": "\"Wait structure used by the poll hooks\""
                                                        },
                                                        "children": []
                                                    },
                                                    {
                                                        "data": {
                                                            "id": "c4la5bs3df40",
                                                            "created": 1596246467520,
                                                            "text": "struct list_head llink"
                                                        },
                                                        "children": [
                                                            {
                                                                "data": {
                                                                    "id": "c4la5ffgc6g0",
                                                                    "created": 1596246475463,
                                                                    "text": "List header used to link this structure to the \"struct epitem\""
                                                                },
                                                                "children": []
                                                            }
                                                        ]
                                                    },
                                                    {
                                                        "data": {
                                                            "id": "c4la642kafs0",
                                                            "created": 1596246529103,
                                                            "text": "struct epitem *base"
                                                        },
                                                        "children": [
                                                            {
                                                                "data": {
                                                                    "id": "c4la684ove00",
                                                                    "created": 1596246537939,
                                                                    "text": "The \"base\" pointer is set to the container \"struct epitem\""
                                                                },
                                                                "children": []
                                                            }
                                                        ]
                                                    },
                                                    {
                                                        "data": {
                                                            "id": "c4la6mtdw340",
                                                            "created": 1596246569907,
                                                            "text": "wait_queue_entry_t wait"
                                                        },
                                                        "children": [
                                                            {
                                                                "data": {
                                                                    "id": "c4la6q7529k0",
                                                                    "created": 1596246577269,
                                                                    "text": "Wait queue item that will be linked to the target file wait queue head"
                                                                },
                                                                "children": []
                                                            }
                                                        ]
                                                    },
                                                    {
                                                        "data": {
                                                            "id": "c4la72yswd40",
                                                            "created": 1596246605063,
                                                            "text": "wait_queue_head_t *whead"
                                                        },
                                                        "children": [
                                                            {
                                                                "data": {
                                                                    "id": "c4la76qbpv40",
                                                                    "created": 1596246613258,
                                                                    "text": "The wait queue head that linked the \"wait\" wait queue item"
                                                                },
                                                                "children": []
                                                            }
                                                        ]
                                                    }
                                                ]
                                            },
                                            {
                                                "data": {
                                                    "id": "c4lhlgwi0xc0",
                                                    "created": 1596267480267,
                                                    "text": "struct ep_pqueue"
                                                },
                                                "children": [
                                                    {
                                                        "data": {
                                                            "id": "c4lhli6j69s0",
                                                            "created": 1596267483050,
                                                            "text": "\"Wrapper struct used by poll queueing\""
                                                        },
                                                        "children": []
                                                    },
                                                    {
                                                        "data": {
                                                            "id": "c4lhlseqsa00",
                                                            "created": 1596267505314,
                                                            "text": "poll_table pt"
                                                        },
                                                        "children": []
                                                    },
                                                    {
                                                        "data": {
                                                            "id": "c4lhlwhmnps0",
                                                            "created": 1596267514196,
                                                            "text": "struct epitem *epi"
                                                        },
                                                        "children": []
                                                    }
                                                ]
                                            }
                                        ]
                                    },
                                    {
                                        "data": {
                                            "id": "c4lf05bxfzk0",
                                            "created": 1596260167211,
                                            "text": "macro",
                                            "expandState": "expand"
                                        },
                                        "children": [
                                            {
                                                "data": {
                                                    "id": "c4lf2pkvrl40",
                                                    "created": 1596260368016,
                                                    "text": "EPOLLWAKEUP"
                                                },
                                                "children": [
                                                    {
                                                        "data": {
                                                            "id": "c4lf2x1o3540",
                                                            "created": 1596260384269,
                                                            "text": "Request the handling of system wakeup events so as to prevent system suspends from happening while those events are being processed"
                                                        },
                                                        "children": []
                                                    },
                                                    {
                                                        "data": {
                                                            "id": "c4lf40dlaeg0",
                                                            "created": 1596260469884,
                                                            "text": "Assuming neither EPOLLET nor EPOLLONESHOT is set, system suspends will not be re-allowed until epoll_wait is called again after consuming the wakeup event(s)"
                                                        },
                                                        "children": []
                                                    }
                                                ]
                                            },
                                            {
                                                "data": {
                                                    "id": "c4lf4k6tvy80",
                                                    "created": 1596260513011,
                                                    "text": "EPOLLONESHOT"
                                                },
                                                "children": [
                                                    {
                                                        "data": {
                                                            "id": "c4lf4wuuckw0",
                                                            "created": 1596260540584,
                                                            "text": "Set the One Shot behaviour for the target file descriptor"
                                                        },
                                                        "children": []
                                                    }
                                                ]
                                            },
                                            {
                                                "data": {
                                                    "id": "c4lf50iiq480",
                                                    "created": 1596260548546,
                                                    "text": "EPOLLET"
                                                },
                                                "children": [
                                                    {
                                                        "data": {
                                                            "id": "c4lf53vd4ps0",
                                                            "created": 1596260555853,
                                                            "text": "Set the Edge Triggered behaviour for the target file descriptor"
                                                        },
                                                        "children": []
                                                    }
                                                ]
                                            }
                                        ]
                                    },
                                    {
                                        "data": {
                                            "id": "c4lbudfimn40",
                                            "created": 1596251251327,
                                            "text": "function",
                                            "expandState": "expand"
                                        },
                                        "children": [
                                            {
                                                "data": {
                                                    "id": "c4lbudfimn40",
                                                    "created": 1596251251327,
                                                    "text": "defininition",
                                                    "expandState": "expand"
                                                },
                                                "children": [
                                                    {
                                                        "data": {
                                                            "id": "c4lahrj8i5c0",
                                                            "created": 1596247442183,
                                                            "text": "static int ep_call_nested"
                                                        },
                                                        "children": [
                                                            {
                                                                "data": {
                                                                    "id": "c4lai1rqnnk0",
                                                                    "created": 1596247464465,
                                                                    "text": "Perform a bound (possibly) nested call, by checking that the recursion limit is not exceeded, and that the same nested call (by the meaning of same cookie) is no re-entered"
                                                                },
                                                                "children": []
                                                            }
                                                        ]
                                                    },
                                                    {
                                                        "data": {
                                                            "id": "c4lburril5s0",
                                                            "created": 1596251282528,
                                                            "text": "static void ep_unregister_pollwait"
                                                        },
                                                        "children": [
                                                            {
                                                                "data": {
                                                                    "id": "c4lbv2o2e200",
                                                                    "created": 1596251306264,
                                                                    "text": "This function unregisters poll callbacks from the associated file descriptor.  Must be called with \"mtx\" held (or \"epmutex\" if called from ep_free)"
                                                                },
                                                                "children": []
                                                            },
                                                            {
                                                                "data": {
                                                                    "id": "c4lcg59id0o0",
                                                                    "created": 1596252957561,
                                                                    "text": "note"
                                                                },
                                                                "children": [
                                                                    {
                                                                        "data": {
                                                                            "id": "c4lcg6jgl5c0",
                                                                            "created": 1596252960340,
                                                                            "text": "delete all eppoll_entry in epitem::pwqlist"
                                                                        },
                                                                        "children": []
                                                                    },
                                                                    {
                                                                        "data": {
                                                                            "id": "c4lchzc3p7k0",
                                                                            "created": 1596253101386,
                                                                            "text": "for every eppoll_entry"
                                                                        },
                                                                        "children": [
                                                                            {
                                                                                "data": {
                                                                                    "id": "c4lci53wk800",
                                                                                    "created": 1596253113951,
                                                                                    "text": "remove eppoll_entry::wait from eppoll_entry::whead"
                                                                                },
                                                                                "children": []
                                                                            }
                                                                        ]
                                                                    }
                                                                ]
                                                            }
                                                        ]
                                                    },
                                                    {
                                                        "data": {
                                                            "id": "c4lcq03t8000",
                                                            "created": 1596253729975,
                                                            "text": "static __poll_t ep_scan_ready_list"
                                                        },
                                                        "children": [
                                                            {
                                                                "data": {
                                                                    "id": "c4lcqph4p3k0",
                                                                    "created": 1596253785200,
                                                                    "text": "Scans the ready list in a way that makes possible for the scan code, to call f_op->poll(). Also allows for O(NumReady) performance"
                                                                },
                                                                "children": []
                                                            }
                                                        ]
                                                    },
                                                    {
                                                        "data": {
                                                            "id": "c4lfx6r5dag0",
                                                            "created": 1596262756325,
                                                            "text": "static int ep_poll_callback"
                                                        },
                                                        "children": [
                                                            {
                                                                "data": {
                                                                    "id": "c4lfy6ebd080",
                                                                    "created": 1596262833913,
                                                                    "text": "This is the callback that is passed to the wait queue wakeup mechanism. It is called by the stored file descriptors when they have events to report"
                                                                },
                                                                "children": []
                                                            }
                                                        ]
                                                    },
                                                    {
                                                        "data": {
                                                            "id": "c4lfz9o9yz40",
                                                            "created": 1596262919410,
                                                            "text": "static void ep_ptable_queue_proc"
                                                        },
                                                        "children": [
                                                            {
                                                                "data": {
                                                                    "id": "c4lfzdhe3600",
                                                                    "created": 1596262927701,
                                                                    "text": "This is the callback that is used to add our wait queue to the target file wakeup lists"
                                                                },
                                                                "children": []
                                                            }
                                                        ]
                                                    },
                                                    {
                                                        "data": {
                                                            "id": "c4lg03az6wg0",
                                                            "created": 1596262983910,
                                                            "text": "static int ep_insert"
                                                        },
                                                        "children": []
                                                    },
                                                    {
                                                        "data": {
                                                            "id": "c4lhnjzsqgw0",
                                                            "created": 1596267643725,
                                                            "text": "static void ep_ptable_queue_proc"
                                                        },
                                                        "children": [
                                                            {
                                                                "data": {
                                                                    "id": "c4lhno6som80",
                                                                    "created": 1596267652855,
                                                                    "text": "This is the callback that is used to add our wait queue to the target file wakeup lists"
                                                                },
                                                                "children": []
                                                            }
                                                        ]
                                                    },
                                                    {
                                                        "data": {
                                                            "id": "c4lhqutqn6g0",
                                                            "created": 1596267902395,
                                                            "text": "static __poll_t ep_item_poll"
                                                        },
                                                        "children": [
                                                            {
                                                                "data": {
                                                                    "id": "c4lhr69kql40",
                                                                    "created": 1596267927298,
                                                                    "text": "\"Differs from ep_eventpoll_poll() in that internal callers already have the ep->mtx so we need to start from depth=1, such that mutex_lock_nested() is correctly annotated\""
                                                                },
                                                                "children": []
                                                            }
                                                        ]
                                                    }
                                                ]
                                            },
                                            {
                                                "data": {
                                                    "id": "c4lhf3nofpc0",
                                                    "created": 1596266981250,
                                                    "text": "relation",
                                                    "expandState": "expand"
                                                },
                                                "children": [
                                                    {
                                                        "data": {
                                                            "id": "c4lg0sm0gv40",
                                                            "created": 1596263038996,
                                                            "text": "epoll_ctl",
                                                            "expandState": "expand"
                                                        },
                                                        "children": [
                                                            {
                                                                "data": {
                                                                    "id": "c4lh6rcwhnc0",
                                                                    "created": 1596266327565,
                                                                    "text": "copy_from_user"
                                                                },
                                                                "children": [
                                                                    {
                                                                        "data": {
                                                                            "id": "c4lh6sgacz40",
                                                                            "created": 1596266329945,
                                                                            "text": "\"copy epoll_event from user space\""
                                                                        },
                                                                        "children": []
                                                                    }
                                                                ]
                                                            },
                                                            {
                                                                "data": {
                                                                    "id": "c4lhhu5rroo0",
                                                                    "created": 1596267195669,
                                                                    "text": "case EPOLL_CTL_ADD"
                                                                },
                                                                "children": [
                                                                    {
                                                                        "data": {
                                                                            "id": "c4lhhzz0rko0",
                                                                            "created": 1596267208321,
                                                                            "text": "ep_insert"
                                                                        },
                                                                        "children": [
                                                                            {
                                                                                "data": {
                                                                                    "id": "c4lhkcgv8go0",
                                                                                    "created": 1596267392250,
                                                                                    "text": "epitem allock and initialize"
                                                                                },
                                                                                "children": []
                                                                            },
                                                                            {
                                                                                "data": {
                                                                                    "id": "c4lhoa2hsww0",
                                                                                    "created": 1596267700484,
                                                                                    "text": "init_poll_funcptr(&epq.pt, ep_ptable_queue_proc)"
                                                                                },
                                                                                "children": [
                                                                                    {
                                                                                        "data": {
                                                                                            "id": "c4lhogshdjs0",
                                                                                            "created": 1596267715116,
                                                                                            "text": "\"Initialize the poll table using the queue callback\""
                                                                                        },
                                                                                        "children": []
                                                                                    },
                                                                                    {
                                                                                        "data": {
                                                                                            "id": "c4lholebsps0",
                                                                                            "created": 1596267725144,
                                                                                            "text": "input param"
                                                                                        },
                                                                                        "children": [
                                                                                            {
                                                                                                "data": {
                                                                                                    "id": "c4lhomd8nlk0",
                                                                                                    "created": 1596267727255,
                                                                                                    "text": "ep_ptable_queue_proc"
                                                                                                },
                                                                                                "children": []
                                                                                            }
                                                                                        ]
                                                                                    }
                                                                                ]
                                                                            },
                                                                            {
                                                                                "data": {
                                                                                    "id": "c4lhpaoxg4g0",
                                                                                    "created": 1596267780205,
                                                                                    "text": "ep_item_poll"
                                                                                },
                                                                                "children": [
                                                                                    {
                                                                                        "data": {
                                                                                            "id": "c4lhqaxzlu80",
                                                                                            "created": 1596267859117,
                                                                                            "text": "\"Attach the item to the poll hooks and get current event bits\""
                                                                                        },
                                                                                        "children": []
                                                                                    },
                                                                                    {
                                                                                        "data": {
                                                                                            "id": "c4lhu8wuw280",
                                                                                            "created": 1596268168151,
                                                                                            "text": "vfs_poll"
                                                                                        },
                                                                                        "children": [
                                                                                            {
                                                                                                "data": {
                                                                                                    "id": "c4lib06j2800",
                                                                                                    "created": 1596269481336,
                                                                                                    "text": "file::file_operations"
                                                                                                },
                                                                                                "children": [
                                                                                                    {
                                                                                                        "data": {
                                                                                                            "id": "c4lint3ldrk0",
                                                                                                            "created": 1596270484655,
                                                                                                            "text": "file_operations::poll"
                                                                                                        },
                                                                                                        "children": []
                                                                                                    }
                                                                                                ]
                                                                                            }
                                                                                        ]
                                                                                    },
                                                                                    {
                                                                                        "data": {
                                                                                            "id": "c4lj65v5s2g0",
                                                                                            "created": 1596271922998,
                                                                                            "text": "return"
                                                                                        },
                                                                                        "children": [
                                                                                            {
                                                                                                "data": {
                                                                                                    "id": "c4lj67u4bw00",
                                                                                                    "created": 1596271927289,
                                                                                                    "text": "topic"
                                                                                                },
                                                                                                "children": []
                                                                                            }
                                                                                        ]
                                                                                    }
                                                                                ]
                                                                            },
                                                                            {
                                                                                "data": {
                                                                                    "id": "c4lik34rywo0",
                                                                                    "created": 1596270193038,
                                                                                    "text": "list_add_tail_rcu(&epi->fllink, &tfile->f_ep_links)"
                                                                                },
                                                                                "children": [
                                                                                    {
                                                                                        "data": {
                                                                                            "id": "c4likhtjeu80",
                                                                                            "created": 1596270225010,
                                                                                            "text": "\"Add the current item to the list of active epoll hook for this file\""
                                                                                        },
                                                                                        "children": []
                                                                                    }
                                                                                ]
                                                                            },
                                                                            {
                                                                                "data": {
                                                                                    "id": "c4lit5qht540",
                                                                                    "created": 1596270903982,
                                                                                    "text": "ep_rbtree_insert(ep, epi)"
                                                                                },
                                                                                "children": [
                                                                                    {
                                                                                        "data": {
                                                                                            "id": "c4litd2hmk80",
                                                                                            "created": 1596270919945,
                                                                                            "text": "\"Add the current item to the RB tree\""
                                                                                        },
                                                                                        "children": []
                                                                                    }
                                                                                ]
                                                                            },
                                                                            {
                                                                                "data": {
                                                                                    "id": "c4liuc0f6g80",
                                                                                    "created": 1596270996007,
                                                                                    "text": "If the file is already \"ready\" we drop it inside the ready list"
                                                                                },
                                                                                "children": []
                                                                            }
                                                                        ]
                                                                    }
                                                                ]
                                                            }
                                                        ]
                                                    }
                                                ]
                                            }
                                        ]
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "data": {
                            "id": "c4ljl0bf5js0",
                            "created": 1596273086383,
                            "text": "include"
                        },
                        "children": [
                            {
                                "data": {
                                    "id": "c4ljl95ba340",
                                    "created": 1596273105605,
                                    "text": "linux"
                                },
                                "children": [
                                    {
                                        "data": {
                                            "id": "c4ljla3q84o0",
                                            "created": 1596273107686,
                                            "text": "fs.h"
                                        },
                                        "children": [
                                            {
                                                "data": {
                                                    "id": "c4ljldjzx600",
                                                    "created": 1596273115200,
                                                    "text": "struct"
                                                },
                                                "children": [
                                                    {
                                                        "data": {
                                                            "id": "c4ljlez9c6g0",
                                                            "created": 1596273118300,
                                                            "text": "struct file"
                                                        },
                                                        "children": []
                                                    },
                                                    {
                                                        "data": {
                                                            "id": "c4ljnma9rgo0",
                                                            "created": 1596273290931,
                                                            "text": "struct file_operations",
                                                            "hyperlink": null,
                                                            "hyperlinkTitle": null
                                                        },
                                                        "children": [
                                                            {
                                                                "data": {
                                                                    "id": "c4ljqgw72ao0",
                                                                    "created": 1596273514289,
                                                                    "text": "file operations",
                                                                    "hyperlink": "https://www.oreilly.com/library/view/linux-device-drivers/0596005903/ch03.html",
                                                                    "hyperlinkTitle": ""
                                                                },
                                                                "children": [
                                                                    {
                                                                        "data": {
                                                                            "id": "c4ljyaf6kg80",
                                                                            "created": 1596274127114,
                                                                            "text": "The file_operations structure is how a char driver sets up this connection. The structure, defined in <linux/fs.h>, is a collection of function pointers"
                                                                        },
                                                                        "children": []
                                                                    },
                                                                    {
                                                                        "data": {
                                                                            "id": "c4ljyoj1ixk0",
                                                                            "created": 1596274157821,
                                                                            "text": "Each open file (represented internally by a file structure, which we will examine shortly) is associated with its own set of functions (by including a field called f_op that points to a file_operations structure)"
                                                                        },
                                                                        "children": []
                                                                    },
                                                                    {
                                                                        "data": {
                                                                            "id": "c4ljyvpvqp40",
                                                                            "created": 1596274173472,
                                                                            "text": "The operations are mostly in charge of implementing the system calls and are therefore, named open, read, and so on"
                                                                        },
                                                                        "children": []
                                                                    }
                                                                ]
                                                            },
                                                            {
                                                                "data": {
                                                                    "id": "c4ljoea8pi80",
                                                                    "created": 1596273351879,
                                                                    "text": "unsigned int (*poll) (struct file *, struct poll_table_struct *)"
                                                                },
                                                                "children": [
                                                                    {
                                                                        "data": {
                                                                            "id": "c4lkj3wkfxc0",
                                                                            "created": 1596275758574,
                                                                            "text": "note",
                                                                            "expandState": "expand"
                                                                        },
                                                                        "children": [
                                                                            {
                                                                                "data": {
                                                                                    "id": "c4ljowef9800",
                                                                                    "created": 1596273391314,
                                                                                    "text": "The poll method is the back end of three system calls: poll, epoll, and select, all of which are used to query whether a read or write to one or more file descriptors would block"
                                                                                },
                                                                                "children": []
                                                                            },
                                                                            {
                                                                                "data": {
                                                                                    "id": "c4ljpqxl7wg0",
                                                                                    "created": 1596273457777,
                                                                                    "text": "The poll method should return a bit mask indicating whether non-blocking reads or writes are possible, and, possibly, provide the kernel with information that can be used to put the calling process to sleep until I/O becomes possible"
                                                                                },
                                                                                "children": []
                                                                            },
                                                                            {
                                                                                "data": {
                                                                                    "id": "c4ljpvu3oag0",
                                                                                    "created": 1596273468450,
                                                                                    "text": "If a driver leaves its poll method NULL, the device is assumed to be both readable and writable without blocking"
                                                                                },
                                                                                "children": []
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "data": {
                                                                            "id": "c4lkjc3ngps0",
                                                                            "created": 1596275776416,
                                                                            "text": "emplementation example"
                                                                        },
                                                                        "children": [
                                                                            {
                                                                                "data": {
                                                                                    "id": "c4lkjg8vbq80",
                                                                                    "created": 1596275785439,
                                                                                    "text": "include\\net\\sock.h - static inline void sock_poll_wait(struct file *filp, poll_table *p)",
                                                                                    "expandState": "expand"
                                                                                },
                                                                                "children": [
                                                                                    {
                                                                                        "data": {
                                                                                            "id": "c4lkkeka9o80",
                                                                                            "created": 1596275860140,
                                                                                            "text": "include\\linux\\poll.h - poll_wait(filp, &sock->wq->wait, p)"
                                                                                        },
                                                                                        "children": []
                                                                                    }
                                                                                ]
                                                                            }
                                                                        ]
                                                                    }
                                                                ]
                                                            }
                                                        ]
                                                    }
                                                ]
                                            }
                                        ]
                                    },
                                    {
                                        "data": {
                                            "id": "c4ljuttwiaw0",
                                            "created": 1596273855905,
                                            "text": "poll.h"
                                        },
                                        "children": [
                                            {
                                                "data": {
                                                    "id": "c4lk7wmow680",
                                                    "created": 1596274880733,
                                                    "text": "struct"
                                                },
                                                "children": [
                                                    {
                                                        "data": {
                                                            "id": "c4lk86asiow0",
                                                            "created": 1596274901782,
                                                            "text": "struct poll_table_struct"
                                                        },
                                                        "children": []
                                                    }
                                                ]
                                            },
                                            {
                                                "data": {
                                                    "id": "c4lk9wls4540",
                                                    "created": 1596275037408,
                                                    "text": "function"
                                                },
                                                "children": [
                                                    {
                                                        "data": {
                                                            "id": "c4lka0zv4xs0",
                                                            "created": 1596275046965,
                                                            "text": "poll_wait"
                                                        },
                                                        "children": [
                                                            {
                                                                "data": {
                                                                    "id": "c4lka7128mo0",
                                                                    "created": 1596275060098,
                                                                    "text": "\"poll_wait() is an inline-function defined in <linux/poll.h>, as all select/poll functions have to call it to add an entry to the poll table\""
                                                                },
                                                                "children": []
                                                            }
                                                        ]
                                                    }
                                                ]
                                            }
                                        ]
                                    }
                                ]
                            }
                        ]
                    }
                ]
            }
        ]
    },
    "template": "right",
    "theme": "fresh-blue",
    "version": "1.4.43"
}