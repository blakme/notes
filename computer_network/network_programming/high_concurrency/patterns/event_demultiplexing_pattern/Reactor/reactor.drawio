<mxfile host="65bd71144e" modified="2020-11-18T04:01:03.464Z" agent="5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Code/1.51.1 Chrome/83.0.4103.122 Electron/9.3.3 Safari/537.36" etag="4kzeJXur5ORme4MUiEwe" version="13.6.5">
    <diagram id="i6eAsQiDidNN2xdV9aTh" name="Page-1">
        <mxGraphModel dx="2067" dy="903" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="0" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
            <root>
                <mxCell id="0"/>
                <mxCell id="1" parent="0"/>
                <mxCell id="29" value="dispatches" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" edge="1">
                    <mxGeometry x="0.7241" relative="1" as="geometry">
                        <mxPoint x="440" y="124" as="sourcePoint"/>
                        <mxPoint x="730" y="124" as="targetPoint"/>
                        <mxPoint as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="31" value="Handle" style="html=1;" parent="1" vertex="1">
                    <mxGeometry x="540" y="148" width="90" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="34" value="owns" style="endArrow=classic;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" parent="1" edge="1">
                    <mxGeometry x="0.4" width="50" height="50" relative="1" as="geometry">
                        <mxPoint x="730" y="164" as="sourcePoint"/>
                        <mxPoint x="630" y="164" as="targetPoint"/>
                        <mxPoint as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="35" value="handle set" style="endArrow=classic;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" parent="1" edge="1">
                    <mxGeometry x="0.2" width="50" height="50" relative="1" as="geometry">
                        <mxPoint x="540" y="164" as="sourcePoint"/>
                        <mxPoint x="440" y="164" as="targetPoint"/>
                        <mxPoint as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="40" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" source="36" target="31" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="585" y="296"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="43" value="notifies" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="40" vertex="1" connectable="0">
                    <mxGeometry x="0.714" y="1" relative="1" as="geometry">
                        <mxPoint as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="44" value="use" style="endArrow=open;endSize=12;dashed=1;html=1;" parent="1" edge="1">
                    <mxGeometry width="160" relative="1" as="geometry">
                        <mxPoint x="335" y="216" as="sourcePoint"/>
                        <mxPoint x="335" y="281" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="55" value="extends" style="endArrow=block;endSize=16;endFill=0;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;edgeStyle=orthogonalEdgeStyle;elbow=vertical;" parent="1" source="49" target="10" edge="1">
                    <mxGeometry width="160" relative="1" as="geometry">
                        <mxPoint x="800" y="246" as="sourcePoint"/>
                        <mxPoint x="820" y="196" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="56" value="extends" style="endArrow=block;endSize=16;endFill=0;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;edgeStyle=orthogonalEdgeStyle;" parent="1" source="52" target="10" edge="1">
                    <mxGeometry width="160" relative="1" as="geometry">
                        <mxPoint x="874.14" y="276" as="sourcePoint"/>
                        <mxPoint x="810" y="186" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="6" value="Reactor" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;" parent="1" vertex="1">
                    <mxGeometry x="300" y="110" width="140" height="104" as="geometry">
                        <mxRectangle x="90" y="200" width="70" height="26" as="alternateBounds"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="7" value="handle_events()" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" parent="6" vertex="1">
                    <mxGeometry y="26" width="140" height="26" as="geometry"/>
                </mxCell>
                <mxCell id="8" value="register_handler()" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" parent="6" vertex="1">
                    <mxGeometry y="52" width="140" height="26" as="geometry"/>
                </mxCell>
                <mxCell id="9" value="remove_handler()" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" parent="6" vertex="1">
                    <mxGeometry y="78" width="140" height="26" as="geometry"/>
                </mxCell>
                <mxCell id="10" value="EventHandler" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;" parent="1" vertex="1">
                    <mxGeometry x="730" y="110" width="140" height="78" as="geometry"/>
                </mxCell>
                <mxCell id="11" value="handle_event()" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" parent="10" vertex="1">
                    <mxGeometry y="26" width="140" height="26" as="geometry"/>
                </mxCell>
                <mxCell id="12" value="get_handle()" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" parent="10" vertex="1">
                    <mxGeometry y="52" width="140" height="26" as="geometry"/>
                </mxCell>
                <mxCell id="36" value="SynchronousEventDemultiplexer" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;" parent="1" vertex="1">
                    <mxGeometry x="300" y="281" width="210" height="52" as="geometry"/>
                </mxCell>
                <mxCell id="37" value="select()" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" parent="36" vertex="1">
                    <mxGeometry y="26" width="210" height="26" as="geometry"/>
                </mxCell>
                <mxCell id="49" value="ConcreteEventHandlerA" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;" parent="1" vertex="1">
                    <mxGeometry x="630" y="268" width="170" height="78" as="geometry"/>
                </mxCell>
                <mxCell id="50" value="handle_event()" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" parent="49" vertex="1">
                    <mxGeometry y="26" width="170" height="26" as="geometry"/>
                </mxCell>
                <mxCell id="51" value="get_handle()" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" parent="49" vertex="1">
                    <mxGeometry y="52" width="170" height="26" as="geometry"/>
                </mxCell>
                <mxCell id="52" value="ConcreteEventHandlerB" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;" parent="1" vertex="1">
                    <mxGeometry x="820" y="268" width="170" height="78" as="geometry"/>
                </mxCell>
                <mxCell id="53" value="handle_event()" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" parent="52" vertex="1">
                    <mxGeometry y="26" width="170" height="26" as="geometry"/>
                </mxCell>
                <mxCell id="54" value="get_handle()" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" parent="52" vertex="1">
                    <mxGeometry y="52" width="170" height="26" as="geometry"/>
                </mxCell>
                <mxCell id="61" value="&lt;h1&gt;Flow of control oscillates between the reactor and event handler&lt;/h1&gt;&lt;p&gt;&lt;span&gt;An application registers a concrete event handler with the reactor. At this point, the&amp;nbsp;&lt;/span&gt;&lt;span&gt;application also indicates the type of indication event(s) the event handler wants the&amp;nbsp;&lt;/span&gt;&lt;span class=&quot;fontstyle0&quot;&gt;reactor to notify it about, when such event(s) occur on the associated handle.&lt;/span&gt;&lt;span&gt;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;fontstyle0&quot;&gt;The reactor instructs each event handler to provide its internal handle, in our example by invoking their &lt;/span&gt;&lt;span class=&quot;fontstyle2&quot;&gt;get_handle() &lt;/span&gt;&lt;span class=&quot;fontstyle0&quot;&gt;method. This handle identifies the source of indication events to the synchronous event demultiplexer and the operating system.&lt;/span&gt;&amp;nbsp;&amp;nbsp;&lt;br style=&quot;line-height: normal&quot;&gt;&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;fontstyle0&quot;&gt;After all event handlers are registered, the application starts the reactor's event loop, which we call &lt;/span&gt;&lt;span class=&quot;fontstyle2&quot;&gt;handle_events()&lt;/span&gt;&lt;span class=&quot;fontstyle0&quot;&gt;. At this point the reactor combines the handles from each registered event handler into a handle set. It then calls the synchronous event demultiplexer to wait for indication events to occur on the handle set.&lt;/span&gt;&amp;nbsp;&amp;nbsp;&lt;br style=&quot;line-height: normal&quot;&gt;&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;fontstyle0&quot;&gt;The synchronous event demultiplexer function returns to the reactor when one or more handles corresponding to event sources becomes 'ready', for example when a Socket becomes 'ready to read'.&lt;/span&gt;&amp;nbsp;&amp;nbsp;&lt;br style=&quot;line-height: normal&quot;&gt;&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;fontstyle0&quot;&gt;The reactor then uses the ready handles as 'keys' to locate the appropriate event handler(s) and dispatch the corresponding hook method(s). The type of indication event that occurred can be passed as a parameter to the hook method. This method can use this type information to perform any additional application-specific demultiplexing and dispatching operations.&lt;/span&gt;&amp;nbsp;&amp;nbsp;&lt;br style=&quot;line-height: normal&quot;&gt;&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;fontstyle0&quot;&gt;After the appropriate hook method within the event handler is dispatched, it processes the invoked service. This service can write the results of its processing, if any, to the handle associated with the event handler so that they can be returned to the client that originally requested the service.&lt;/span&gt;&amp;nbsp;&amp;nbsp;&lt;br style=&quot;line-height: normal&quot;&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;" style="text;html=1;strokeColor=none;fillColor=none;spacing=5;spacingTop=-20;whiteSpace=wrap;overflow=hidden;rounded=0;" parent="1" vertex="1">
                    <mxGeometry x="-180" y="90" width="420" height="510" as="geometry"/>
                </mxCell>
                <mxCell id="62" value=":Main Program" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;collapsible=0;recursiveResize=0;outlineConnect=0;" vertex="1" parent="1">
                    <mxGeometry x="320" y="500" width="100" height="380" as="geometry"/>
                </mxCell>
                <mxCell id="67" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;" vertex="1" parent="62">
                    <mxGeometry x="45" y="80" width="10" height="210" as="geometry"/>
                </mxCell>
                <mxCell id="63" value=":Concrete Event Handler" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;collapsible=0;recursiveResize=0;outlineConnect=0;" vertex="1" parent="1">
                    <mxGeometry x="510" y="500" width="100" height="380" as="geometry"/>
                </mxCell>
                <mxCell id="75" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;" vertex="1" parent="63">
                    <mxGeometry x="45" y="120" width="10" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="84" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;" vertex="1" parent="63">
                    <mxGeometry x="45" y="276" width="10" height="80" as="geometry"/>
                </mxCell>
                <mxCell id="93" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;" vertex="1" parent="63">
                    <mxGeometry x="51" y="311" width="10" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="94" value="service()" style="edgeStyle=orthogonalEdgeStyle;html=1;align=left;spacingLeft=2;endArrow=block;rounded=0;entryX=1;entryY=0;" edge="1" target="93" parent="63">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="56" y="291" as="sourcePoint"/>
                        <Array as="points">
                            <mxPoint x="81" y="291"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="64" value=":Reactor" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;collapsible=0;recursiveResize=0;outlineConnect=0;" vertex="1" parent="1">
                    <mxGeometry x="712" y="500" width="100" height="380" as="geometry"/>
                </mxCell>
                <mxCell id="69" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;" vertex="1" parent="64">
                    <mxGeometry x="45" y="80" width="10" height="120" as="geometry"/>
                </mxCell>
                <mxCell id="81" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;" vertex="1" parent="64">
                    <mxGeometry x="45" y="220" width="10" height="70" as="geometry"/>
                </mxCell>
                <mxCell id="65" value=":Synchronous Event Demultiplexer" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;collapsible=0;recursiveResize=0;outlineConnect=0;" vertex="1" parent="1">
                    <mxGeometry x="894" y="500" width="100" height="380" as="geometry"/>
                </mxCell>
                <mxCell id="85" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;" vertex="1" parent="65">
                    <mxGeometry x="45" y="233" width="10" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="70" value="" style="endArrow=classic;html=1;" edge="1" parent="1">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <mxPoint x="374" y="594" as="sourcePoint"/>
                        <mxPoint x="756.5" y="594" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="74" value="register_handler()" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="70">
                    <mxGeometry x="0.5216" y="-3" relative="1" as="geometry">
                        <mxPoint x="25" y="-5" as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="73" value="" style="group" vertex="1" connectable="0" parent="1">
                    <mxGeometry x="398" y="564" width="140" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="71" value="Concrete Event&amp;nbsp;&lt;br&gt;Handler" style="html=1;" vertex="1" parent="73">
                    <mxGeometry width="90" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="72" value="Events" style="html=1;" vertex="1" parent="73">
                    <mxGeometry x="90" width="50" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="76" value="" style="endArrow=classic;html=1;" edge="1" parent="1">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <mxPoint x="756" y="626" as="sourcePoint"/>
                        <mxPoint x="565.5" y="626" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="77" value="get_handler()" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="76">
                    <mxGeometry x="0.2178" y="3" relative="1" as="geometry">
                        <mxPoint x="-21" y="-5" as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="78" value="" style="endArrow=classic;html=1;dashed=1" edge="1" parent="1">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <mxPoint x="565" y="647" as="sourcePoint"/>
                        <mxPoint x="756.5" y="647" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="79" value="handle" style="html=1;" vertex="1" parent="1">
                    <mxGeometry x="599" y="647" width="50" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="80" value="" style="endArrow=classic;html=1;dashed=1;" edge="1" parent="1">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <mxPoint x="756" y="688" as="sourcePoint"/>
                        <mxPoint x="375.5" y="688" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="82" value="" style="endArrow=classic;html=1;" edge="1" parent="1">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <mxPoint x="375" y="726" as="sourcePoint"/>
                        <mxPoint x="756.5" y="726" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="83" value="handle_events()" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="82">
                    <mxGeometry x="0.4993" relative="1" as="geometry">
                        <mxPoint x="33" as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="86" value="" style="endArrow=classic;html=1;" edge="1" parent="1">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <mxPoint x="768" y="739" as="sourcePoint"/>
                        <mxPoint x="938.5" y="739" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="87" value="select()" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="86">
                    <mxGeometry x="0.5484" y="1" relative="1" as="geometry">
                        <mxPoint as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="88" value="handles" style="html=1;" vertex="1" parent="1">
                    <mxGeometry x="800" y="709" width="60" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="89" value="" style="endArrow=classic;html=1;dashed=1" edge="1" parent="1">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <mxPoint x="936" y="756" as="sourcePoint"/>
                        <mxPoint x="767.5" y="756" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="90" value="handles" style="html=1;" vertex="1" parent="1">
                    <mxGeometry x="800" y="756" width="60" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="91" value="" style="endArrow=classic;html=1;entryX=1.16;entryY=0.607;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <mxPoint x="1020" y="744" as="sourcePoint"/>
                        <mxPoint x="950.5999999999999" y="744.21" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="92" value="event" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="91">
                    <mxGeometry x="-0.2797" y="-1" relative="1" as="geometry">
                        <mxPoint x="-8" as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="95" value="" style="endArrow=classic;html=1;dashed=1;" edge="1" parent="1">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <mxPoint x="756" y="780" as="sourcePoint"/>
                        <mxPoint x="565.5" y="780" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="96" value="handle_event()" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="95">
                    <mxGeometry x="0.2178" y="3" relative="1" as="geometry">
                        <mxPoint x="-21" y="-5" as="offset"/>
                    </mxGeometry>
                </mxCell>
            </root>
        </mxGraphModel>
    </diagram>
</mxfile>