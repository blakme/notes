# [什么是子网？|子网划分的工作原理](https://www.cloudflare.com/zh-cn/learning/network-layer/what-is-a-subnet/)

- [什么是子网？|子网划分的工作原理](#什么是子网子网划分的工作原理)
  - [什么是子网？](#什么是子网)
  - [IP 地址的不同部分是什么意思？](#ip-地址的不同部分是什么意思)
  - [为什么要划分子网？](#为什么要划分子网)
  - [什么是子网掩码？](#什么是子网掩码)

## 什么是子网？

子网或子网络是网络内部的[网络](https://www.cloudflare.com/zh-cn/learning/network-layer/what-is-the-network-layer)。子网使网络更高效。通过子网划分，网络流量传播距离更短，无需通过不必要的[路由器](https://www.cloudflare.com/zh-cn/learning/network-layer/what-is-routing)即可到达目的地。

## IP 地址的不同部分是什么意思？

每个 IP 地址都有两个部分。第一部分指示地址所属的网络。第二部分指定该网络中的设备。但是，“第一部分”的长度根据网络的类别而变化。

网络被分为不同的类别，标记为 A 到 E。A 类网络可以连接数百万台设备。B 类网络和 C 类网络的规模逐渐减小。（不经常使用 D 类和 E 类网络。）

## 为什么要划分子网？

如上例所示，IP 地址的构造方式使互联网路由器可以相对容易地找到将数据路由到其中的正确网络。但是，作为示例，在 A 类网络中可能有数百万个已连接的设备，并且数据可能需要一些时间才能找到合适的设备。这就是子网划分派上用场的原因：**子网划分缩小了 IP 地址范围，将其限定在一定范围内的设备**。

由于 IP 地址仅限于表示网络和设备地址，因此，**IP 地址不能用于表示 IP 数据包应访问哪个子网**。网络中的路由器使用一种称为**子网掩码**的东西将数据划归到子网中。

## 什么是子网掩码？

子网掩码类似于 IP 地址，但仅在网络内部使用。路由器使用子网掩码将数据包路由到正确的位置。在互联网上传输的数据包中并不含子网掩码——这些数据包仅指示目标 IP 地址，**路由器会将其与子网进行匹配**。

数据包到达该网络后，网络内的路由器将查询路由表。用其子网掩码 255.255.255.0 进行一些二进制数学运算，看到设备地址是“15”（IP 地址的其余部分表示网络），再计算数据包要发送到哪个子网。它将数据包转发到负责在该子网内传递数据包的路由器或[交换机](https://www.cloudflare.com/zh-cn/learning/network-layer/what-is-a-network-switch)，数据包到达IP地址 192.0.2.15（了解有关[路由器](https://www.cloudflare.com/zh-cn/learning/network-layer/what-is-routing)和[交换机](https://www.cloudflare.com/zh-cn/learning/network-layer/what-is-a-network-switch)的更多信息）。
